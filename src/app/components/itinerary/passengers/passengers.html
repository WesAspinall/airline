<div class='accordion'>
  <accordion>

    <!-- accordion title -->
    <ul class='title'>
        <li>
          <h2>{{$ctrl.title}} ({{$ctrl.passengers.length}})
          <span ng-show='!$ctrl.complete' class='incomplete'>
            incomplete
          </span>
           <span ng-show='$ctrl.complete' class='complete'>
            complete
          </span>
        </h2>
        </li>
        <li class='text-right'>
          <span class="glyphicon glyphicon-chevron-right"></span>
        </li>
    </ul>

    <div class="content table-responsive">
      <table class="table table-hover">
        <form name='passenger-form' edit-field>
        <!-- table header -->
        <tr>
          <th ng-if='$ctrl.editMode'>Delete</th>
          <th ng-repeat='(key, value) in $ctrl.passengers[0]' 
              ng-if='key != "lead" && key != "img" '>
              {{key}}
          </th>
        </tr>
        <tbody>
          <tr ng-repeat='p in $ctrl.passengers'>
             <td ng-if='$ctrl.editMode'>
              <span 
                ng-click='$ctrl.removePassenger($index);' 
              class="glyphicon glyphicon-trash" 
              >
              </span> 
            </td>
            <!-- name column -->
            <td ng-class='{danger: !p.Name}'>

              <span ng-if='!$ctrl.editMode'>{{p.Name}}</span>

              <span 
                tooltip-placement="top" 
                uib-tooltip="lead passenger" 
                ng-if='p.lead && !$ctrl.editMode' 
                class='glyphicon glyphicon-star'>
              </span>
          
              <input ng-show='$ctrl.editMode' placeholder='Enter Name' ng-model='p.Name'>
            </td>

            <!-- DOB column -->
            <td ng-class='{danger: !p.DOB}'>
              <span ng-if='!$ctrl.editMode'>{{p.DOB}}</span>
              <input ng-show='$ctrl.editMode' placeholder='dd/mm/yyyy' ng-model='p.DOB'>
            </td>

            <!-- weight column -->
            <td ng-class='{danger: !p.Weight}'>
              <span ng-if='!$ctrl.editMode'>{{p.Weight}}</span>

              <input required='required' name='weight' ng-show='$ctrl.editMode' placeholder='Enter Weight' ng-model='p.Weight'>
            </td>

            <!-- docs column -->
            <td ng-class='{danger: !p.Docs}'>
              <span class="glyphicon glyphicon-list-alt"></span> 
              <span class="glyphicon glyphicon-picture"></span>
            </td>
           
          </tr>
        </tbody>
    </form>
      </table>

        <div class='dash'>
          <ul>
       
             <span ng-if='$ctrl.editMode' ng-click='$ctrl.addPassenger();' class="glyphicon glyphicon-plus"></span> <span ng-if='$ctrl.editMode'>add passenger</span>
           
            <li>
                <span 
                  ng-hide='$ctrl.editMode' 
                  ng-click='$ctrl.editClick();' 
                  class="glyphicon glyphicon-cog">
                </span> 
                <span ng-hide='$ctrl.editMode'> edit
                </span>

                <span 
                  ng-hide='!$ctrl.editMode' 
                  ng-click='$ctrl.editClick();' class="glyphicon glyphicon-ok">
                </span>
                <span ng-hide='!$ctrl.editMode'>save
                </span>
            </li>

          </ul>
        </div>


    </div>
  </accordion>
</div>